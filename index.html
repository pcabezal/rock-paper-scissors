<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <button id="myBtn">Try it</button>
    <p id="demo"></p>


    <div class="keys">
        <div data-key="65" id="rockButton">
            <kbd>ROCK</kbd>
            <span class="sound">Q</span>
        </div>
        <div data-key="65" id="paperButton">
            <kbd>PAPER</kbd>
            <span class="sound">W</span>
        </div>
        <div data-key="65" id="scissorsButton">
            <kbd>SCISSORS</kbd>
            <span class="sound">E</span>
        </div>
    </div> 



<script>

    let playerSelection 
    let computerSelection 
    let winCount = 0;
    let lossCount = 0;

    const rockButt = document.getElementById("rockButton");
    rockButt.addEventListener("click", rockClick);

    function rockClick() {
        document.getElementById("demo").innerHTML = "rock clicked";
        playerSelection='rock';
    }

    const paperButt = document.getElementById("paperButton");
    paperButt.addEventListener("click", paperClick);

    function paperClick() {
        document.getElementById("demo").innerHTML = "paper clicked";
        playerSelection='paper';
    }

    const scissorsButt = document.getElementById("scissorsButton");
    scissorsButt.addEventListener("click", scissorsClick);

    function scissorsClick() {
        document.getElementById("demo").innerHTML = "scissors clicked";
        playerSelection='scissors';
    }

    function askPlayer() { // asks user to choose RPS and stores it as playerSelection
        let playerPrompt = prompt('Select Rock, Paper, or Scissors');

        if (playerPrompt == null) {  // clicking cancel is against the rules sorry
            alert('No cancelling allowed! You think this is a game?');
            askPlayer();
        } else {
            playerTyped = playerPrompt.toLowerCase(); // fixes case
        }

        if (playerTyped == 'rock' || playerTyped == 'paper' || playerTyped == 'scissors') {   // makes sure proper selection is entered
            playerSelection = playerTyped;
        } else {
            alert('You know the rules chump');
            askPlayer();
        }
     }

    function computerPlay() {       // picks a random number to assign RPS to computerSelection
        let chance = Math.random();
        if (chance < .333) {
                computerSelection = 'rock';
            } else if (.333 <= chance && chance < .666) {
                computerSelection = 'paper';
            } else {
                computerSelection = 'scissors'
            }
         console.log(computerSelection, '- comp selection')
    }

    function playRound() {      // gets values for Player and Computer choices and determines winner, gives message and adjusts wins/losses
        askPlayer();
        computerPlay();
        console.log(playerSelection, computerSelection)
        if (playerSelection == computerSelection) {
            alert(playerSelection + ' vs. ' + computerSelection + '\nTie! Wow!');
            playRound();
        } else if (playerSelection == 'rock' && computerSelection == 'scissors' || 
            playerSelection == 'paper' && computerSelection == 'rock' || playerSelection == 'scissors' && computerSelection == 'paper') {
            alert(playerSelection + ' vs. ' + computerSelection + '\n You Win! Nice!');
            winCount++;
        } else {
            alert(playerSelection + ' vs. ' + computerSelection + '\nYou Lose! Terrible!');
            lossCount++;
        } 
    }

    function theGame() {    // plays 5 rounds and and announces winner at the end
        for (let i = 0; i < 5; i++) {
            playRound();
            alert('Player wins: ' + winCount + '\n Computer Wins: ' + lossCount);
        }
        if (winCount > lossCount) {
            alert('You win the series with ' + winCount + ' wins!');
        } else {
            alert('You lose the series with ' + lossCount + ' losses!');
        }
    }

    

</script>

    
</body>
</html>