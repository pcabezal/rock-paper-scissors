<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Rock Paper Scissors</title>
</head>
<body>
    
    <div class="scoreContainer">
        <div class="humanScore">Human Score: <p id="humanScore"></p></div>
        <div class="computerScore">Computer Score: <p id="compScore"></p></div>
    </div>

    <div class="resultsContainer">
        <p id="results"></p>
    </div>

    <div class="artContainer">
        <div class="artLeft"></div>
        <div class="artCenter"></div>
        <div class="artRight"></div>
    </div>

    <div class="buttons">
        <div class="selector" id="rockButton">
            <kbd>ROCK</kbd>
        </div>
        <div class="selector" id="paperButton">
            <kbd>PAPER</kbd>
        </div>
        <div class="selector" id="scissorsButton">
            <kbd>SCISSORS</kbd>
        </div>
    </div> 

    <div class="newGameContainer">
        <p id="newGame"></p>
    </div>

<script>
    let playerSelection ;
    let computerSelection ;
    let winCount = 0;
    let lossCount = 0;

    document.getElementById("humanScore").innerHTML = winCount;
    document.getElementById("compScore").innerHTML = lossCount;
    document.getElementById("results").innerHTML = 'Care to play the game of champions? Make a choice!'

    const buttons = document.querySelectorAll('.selector');
    buttons.forEach (selector => selector.addEventListener('transitionend', removeTransition));

    function removeTransition(e) {
        this.classList.remove('clicked');
    }

    const rockButt = document.getElementById("rockButton");
    rockButt.addEventListener("click", rockClick);
    function rockClick() {
        document.getElementById("results").innerHTML = "rock clicked";
        playerSelection='rock';
        playRound();
        rockButton.classList.add('clicked');
    }

    const paperButt = document.getElementById("paperButton");
    paperButt.addEventListener("click", paperClick);
    function paperClick() {
        document.getElementById("results").innerHTML = "paper clicked";
        playerSelection='paper';
        playRound();
        paperButton.classList.add('clicked');
    } 

    const scissorsButt = document.getElementById("scissorsButton");
    scissorsButt.addEventListener("click", scissorsClick);
    function scissorsClick() {
        document.getElementById("results").innerHTML = "scissors clicked";
        playerSelection='scissors';
        playRound();
        scissorsButton.classList.add('clicked');
    }

    function computerPlay() {       // picks a random number to assign RPS to computerSelection
        let chance = Math.random();
        if (chance < .333) {
                computerSelection = 'rock';
            } else if (.333 <= chance && chance < .666) {
                computerSelection = 'paper';
            } else {
                computerSelection = 'scissors'
            }
    }

    function playRound() {      // gets values for Player and Computer choices and determines winner, gives message and adjusts wins/losses
        computerPlay();
        if (playerSelection == computerSelection) {
            document.getElementById("results").innerHTML = playerSelection + ' vs. ' + computerSelection +  "Tie game!";
        } else if (playerSelection == 'rock' && computerSelection == 'scissors' || 
            playerSelection == 'paper' && computerSelection == 'rock' || playerSelection == 'scissors' && computerSelection == 'paper') {
            document.getElementById("results").innerHTML = playerSelection + ' vs. ' + computerSelection + 'You Win! Nice!';
            winCount++;
            document.getElementById("humanScore").innerHTML = winCount;
       } else {
            document.getElementById("results").innerHTML = playerSelection + ' vs. ' + computerSelection + 'You Lose!';
            lossCount++;
            document.getElementById("compScore").innerHTML = lossCount;
        } 

        if (winCount === 5) {
            gameOver();
            document.getElementById("results").innerHTML = 'Humans win! Computers are losers!';
        } else if (lossCount === 5) {
            gameOver();
            document.getElementById("results").innerHTML = 'Computers win! Prepare to be assimilated!';
        }
    }

    function gameOver() {
        rockButton.removeEventListener("click", rockClick);
        scissorsButton.removeEventListener("click", scissorsClick);
        paperButton.removeEventListener("click", paperClick);
        document.getElementById("newGame").innerHTML = '<p id=newGameButton>New Game?</p>';
        const gameNew = document.getElementById('newGameButton');
        gameNew.addEventListener("click", newGameClick);
    }

    function newGameClick() {
        winCount = 0;
        lossCount = 0;
        document.getElementById("compScore").innerHTML = lossCount;
        document.getElementById("humanScore").innerHTML = winCount;
        document.getElementById("results").innerHTML = 'Prepare to battle again!'
        rockButton.addEventListener("click", rockClick);
        scissorsButton.addEventListener("click", scissorsClick);
        paperButton.addEventListener("click", paperClick);
    }
 
   

</script>

    
</body>
</html>